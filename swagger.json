{"openapi":"3.0.0","info":{"title":"Node S15","version":"1.0.0","description":"This is a simple CRUD API of Tartichis","license":{"name":"MIT","url":"http://mit.com"},"contact":{"name":"Los Chichos","url":"https://github.com/loschichos","email":"chichos@example.com"}},"server":[{"url":"http://localhost:3000"}],"paths":{"/cake":{"get":{"summary":"Lists all the cakes","tags":["Cake"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"},"description":"The page number"},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"The number of items to return"}],"responses":{"200":{"description":"The list of the cakes","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Cake"},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}},"400":{"description":"Invalid page or limit parameter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"post":{"summary":"Create a new cake","tags":["Cake"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"responses":{"201":{"description":"The cake was created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"400":{"description":"Missing parameters or validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/cake/{id}":{"get":{"summary":"Get a cake by ID","tags":["Cake"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The cake ID"}],"responses":{"200":{"description":"The cake info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"404":{"description":"Cake not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"summary":"Delete a cake by ID","tags":["Cake"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The cake ID"}],"responses":{"200":{"description":"The cake was successfully deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"404":{"description":"The cake was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"summary":"Update a cake by ID","tags":["Cake"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The cake ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"responses":{"200":{"description":"The cake was successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cake"}}}},"400":{"description":"Some parameters are missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"The cake was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/cake/image-upload":{"post":{"summary":"Upload a image for a cake","tags":["Cake"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"image","type":"file","description":"The file to upload."},{"in":"formData","name":"cakeId","type":"string","description":"The id of the cake"}],"responses":{"200":{"description":"The image was uploaded successfully"},"404":{"description":"The cake was not found"}}}},"/category":{"get":{"summary":"Get all categorys","tags":["Category"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"},"description":"The page number"},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"The number of items to return"}],"responses":{"200":{"description":"The list of categorys","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Category"},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}},"400":{"description":"Invalid page or limit parameter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"post":{"summary":"Create a new category","tags":["Category"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"responses":{"201":{"description":"The category was created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/category/{id}":{"get":{"summary":"Get an category by ID","tags":["Category"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The category ID"}],"responses":{"200":{"description":"The category info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"404":{"description":"Category not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"summary":"Delete an category by ID","tags":["Category"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The category ID"}],"responses":{"200":{"description":"The category was successfully deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"404":{"description":"The category was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"summary":"Update an category by ID","tags":["Category"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The category ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"responses":{"200":{"description":"The category was successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"400":{"description":"Some parameters are missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"The category was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/category/name/{name}":{"get":{"summary":"Get an category by name","tags":["Category"],"parameters":[{"in":"path","name":"name","schema":{"type":"string"},"required":true,"description":"The category name"}],"responses":{"200":{"description":"The category info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"404":{"description":"Category not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/category/login":{"post":{"summary":"Login as an category","tags":["Category"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/category/image-upload":{"post":{"summary":"Upload a image for a category","tags":["Category"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"image","type":"file","description":"The file to upload."},{"in":"formData","name":"categoryId","type":"string","description":"The id of the category"}],"responses":{"200":{"description":"The image was uploaded successfully"},"404":{"description":"The category was not found"}}}},"/order":{"get":{"summary":"Get all orders","tags":["Author"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"},"description":"The page number"},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"The number of items to return"}],"responses":{"200":{"description":"The list of orders","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Author"},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}},"400":{"description":"Invalid page or limit parameter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"post":{"summary":"Create a new order","tags":["Author"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"responses":{"201":{"description":"The order was created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}}}}},"/order/{id}":{"get":{"summary":"Get an order by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The order ID"}],"responses":{"200":{"description":"The order info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"404":{"description":"Author not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"summary":"Delete an order by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The order ID"}],"responses":{"200":{"description":"The order was successfully deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"404":{"description":"The order was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"summary":"Update an order by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The order ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"responses":{"200":{"description":"The order was successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"400":{"description":"Some parameters are missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"The order was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/order/name/{name}":{"get":{"summary":"Get an order by name","tags":["Author"],"parameters":[{"in":"path","name":"name","schema":{"type":"string"},"required":true,"description":"The order name"}],"responses":{"200":{"description":"The order info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"404":{"description":"Author not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/order/login":{"post":{"summary":"Login as an order","tags":["Author"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/order/image-upload":{"post":{"summary":"Upload a image for a order","tags":["Author"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"image","type":"file","description":"The file to upload."},{"in":"formData","name":"orderId","type":"string","description":"The id of the order"}],"responses":{"200":{"description":"The image was uploaded successfully"},"404":{"description":"The order was not found"}}}},"/publisher":{"get":{"summary":"Lists all the publishers","tags":["Publisher"],"responses":{"200":{"description":"The list of the publishers","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Publisher"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}},"post":{"summary":"Create a new publisher","tags":["Publisher"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}},"responses":{"201":{"description":"The publisher was created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}},"400":{"description":"The request body is incorrect or missing"}}}},"/publisher/{id}":{"get":{"summary":"Get a publisher by ID","tags":["Publisher"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The publisher ID"}],"responses":{"200":{"description":"The publisher info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}}}},"delete":{"summary":"Deletes a publisher","tags":["Publisher"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The publisher ID"}],"responses":{"200":{"description":"The publisher was deleted successfully"},"404":{"description":"The publisher was not found"}}},"put":{"summary":"Update a publisher","tags":["Publisher"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The publisher ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}},"responses":{"200":{"description":"The publisher was updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}},"400":{"description":"The request body is incorrect or missing"},"404":{"description":"The publisher was not found"}}}},"/publisher/name/{name}":{"get":{"summary":"Get a publisher by name","tags":["Publisher"],"parameters":[{"in":"path","name":"name","schema":{"type":"string"},"required":true,"description":"The publisher name"}],"responses":{"200":{"description":"The publisher info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Publisher"}}}},"404":{"description":"The publisher was not found"}}}},"/user":{"get":{"summary":"Get all users","tags":["User"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"},"description":"The page number"},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"The number of items to return"}],"responses":{"200":{"description":"The list of users","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/User"},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}},"400":{"description":"Invalid page or limit parameter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"post":{"summary":"Create a new user","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"201":{"description":"The user was created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/user/{id}":{"get":{"summary":"Get an user by ID","tags":["User"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The user ID"}],"responses":{"200":{"description":"The user info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"summary":"Delete an user by ID","tags":["User"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The user ID"}],"responses":{"200":{"description":"The user was successfully deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"The user was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"summary":"Update an user by ID","tags":["User"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"The user ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"200":{"description":"The user was successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Some parameters are missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"The user was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/user/name/{name}":{"get":{"summary":"Get an user by name","tags":["User"],"parameters":[{"in":"path","name":"name","schema":{"type":"string"},"required":true,"description":"The user name"}],"responses":{"200":{"description":"The user info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/user/login":{"post":{"summary":"Login as an user","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/user/image-upload":{"post":{"summary":"Upload a image for a user","tags":["User"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"image","type":"file","description":"The file to upload."},{"in":"formData","name":"userId","type":"string","description":"The id of the user"}],"responses":{"200":{"description":"The image was uploaded successfully"},"404":{"description":"The user was not found"}}}}},"components":{"schemas":{"Cake":{"type":"object","required":["name","ingredients","allergens","description","price"],"properties":{"name":{"type":"string","minLength":3,"maxLength":40},"ingredients":{"type":"string[]","enum":["Harina","Mantequilla","Azúcar","Huevos","Leche","Crema","Levadura","Frutas","Vainilla","Ralladura de cítricos","Especias","Chocolate","Nueces","Almendras"]},"allergens":{"type":"string[]","enum":["Lactosa","Gluten","Fructosa","Frutos secos","Soja","Mariscos","Pescado","Huevos","Mostaza","Sésamo","Sulfitos"]},"description":{"type":"string"},"price":{"type":"number","minimum":0}}},"Category":{"type":"object","required":["name","description"],"properties":{"name":{"type":"string","minLength":3,"maxLength":22,"description":"Nombre del u"},"description":{"type":"string","minLength":3,"maxLength":50,"description":"Descripción de la categoría"},"cakes":{"type":"string[]","description":"Tartas de la categoría"}}},"Error":{"type":"object","properties":{"error":{"type":"string","description":"The error message"}}},"Order":{"type":"object","required":["address","date","status","user","cakes"],"properties":{"address":{"type":"string","minLength":3,"maxLength":100,"description":"Dirección de la entrega"},"date":{"type":"date","description":"Fecha del pedido"},"status":{"type":"string","enum":["PENDING","PAID","SENT","DELIVERED"],"description":"Estado del pedido"},"user":{"type":"string","description":"ID del usuario que ha realizado el pedido"},"cakes":{"type":"string[]","description":"Tartas añadidas al pedido"}}},"Pagination":{"type":"object","properties":{"totalItems":{"type":"number","description":"Total items on this endpoint"},"totalPages":{"type":"number","description":"Number of pages for this pagination"},"currentPage":{"type":"number","description":"Current page showed"}}},"User":{"type":"object","required":["email","password","name"],"properties":{"email":{"type":"string","format":"email","description":"Email del autor"},"password":{"type":"string","minLength":8,"description":"Contraseña del autor"},"name":{"type":"string","minLength":3,"maxLength":22,"description":"Nombre del autor"}}}}},"tags":[{"name":"Cake","description":"The cake managing API"},{"name":"Category","description":"API for managing categorys"},{"name":"Author","description":"API for managing orders"},{"name":"Publisher","description":"The publishers managing API"},{"name":"User","description":"API for managing users"}]}